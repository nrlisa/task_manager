{% extends "base.html" %}
{% block content %}
    <h2>Admin Dashboard: All Tasks</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="border-bottom: 2px solid var(--purple-light);">
                <th style="text-align: left; padding: 8px;">Owner</th>
                <th style="text-align: left; padding: 8px;">Title</th>
                <th style="text-align: right; padding: 8px;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for task in tasks %}
            <tr style="border-bottom: 1px solid var(--purple-light);">
                <td style="padding: 8px;">{{ task.owner.username }}</td>
                <td style="padding: 8px;">{{ task.title }}</td>
                <td style="padding: 8px; text-align: right;">
                    <a href="{% url 'edit_task' task.pk %}" style="color: var(--purple-primary); margin-right: 10px;">Edit</a>
                    <a href="{% url 'delete_task' task.pk %}" style="color: #d32f2f;">Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="3" style="text-align: center; padding: 20px;">No tasks in system.</td></tr>
            {% endfor %}
        </tbody>
    </table>
    <p class="footer-link"><a href="{% url 'admin_audit_log' %}">View Audit Logs</a></p>
{% endblock %}